cmake_minimum_required(VERSION 3.8)


add_library(XLUnet2dConditionalModelWeight STATIC XLUnet2dConditionalModelWeight.cc)

set_property(TARGET XLUnet2dConditionalModelWeight PROPERTY POSITION_INDEPENDENT_CODE  ON)
set_property(TARGET XLUnet2dConditionalModelWeight PROPERTY CUDA_RESOLVE_DEVICE_SYMBOLS  ON)
target_link_libraries(XLUnet2dConditionalModelWeight PUBLIC Resnet2DBlock memory_utils cuda_utils  XLUNetMidBlock2DCrossAttnWeight TextTimeEmbeddingBlockWeight XLCrossAttnDownBlock2dWeight XLCrossAttnUpBlock2dWeight XLDownBlock2DWeight XLUpBlock2dWeight)

add_library(XLUnet2dConditionalModel STATIC XLUnet2dConditionalModel.cc)

set_property(TARGET XLUnet2dConditionalModel PROPERTY POSITION_INDEPENDENT_CODE  ON)
set_property(TARGET XLUnet2dConditionalModel PROPERTY CUDA_RESOLVE_DEVICE_SYMBOLS  ON)
target_link_libraries(XLUnet2dConditionalModel PUBLIC conv2d residual XLControlNetModel XLUnet2dConditionalModelWeight XLUNetMidBlock2DCrossAttn TextTimeEmbeddingBlock XLCrossAttnDownBlock2d XLCrossAttnUpBlock2d XLDownBlock2D XLUpBlock2d cuda_utils logger memory_utils)
