cmake_minimum_required(VERSION 3.8)

add_library(GLVUnet2dConditionalModelWeight STATIC GLVUnet2dConditionalModelWeight.cc)

set_property(TARGET GLVUnet2dConditionalModelWeight PROPERTY POSITION_INDEPENDENT_CODE  ON)
set_property(TARGET GLVUnet2dConditionalModelWeight PROPERTY CUDA_RESOLVE_DEVICE_SYMBOLS  ON)
target_link_libraries(GLVUnet2dConditionalModelWeight PUBLIC memory_utils Resnet2DBlock cuda_utils ZeroSFTWeight GLVUpBlock2dWeight GLVCrossAttnUpBlock2dWeight XLUNetMidBlock2DCrossAttnWeight TextTimeEmbeddingBlockWeight XLCrossAttnDownBlock2dWeight XLDownBlock2DWeight)

add_library(GLVUnet2dConditionalModel STATIC GLVUnet2dConditionalModel.cc)

set_property(TARGET GLVUnet2dConditionalModel PROPERTY POSITION_INDEPENDENT_CODE  ON)
set_property(TARGET GLVUnet2dConditionalModel PROPERTY CUDA_RESOLVE_DEVICE_SYMBOLS  ON)
target_link_libraries(GLVUnet2dConditionalModel PUBLIC conv2d residual XLControlNetModel GLVUnet2dConditionalModelWeight GLVControlNetModel GLVUpBlock2d GLVCrossAttnUpBlock2d XLUNetMidBlock2DCrossAttn TextTimeEmbeddingBlock XLCrossAttnDownBlock2d XLDownBlock2D cuda_utils logger memory_utils)
