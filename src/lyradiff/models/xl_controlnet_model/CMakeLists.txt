cmake_minimum_required(VERSION 3.8)


add_library(XLControlNetModelWeight STATIC XLControlNetModelWeight.cc)

set_property(TARGET XLControlNetModelWeight PROPERTY POSITION_INDEPENDENT_CODE  ON)
set_property(TARGET XLControlNetModelWeight PROPERTY CUDA_RESOLVE_DEVICE_SYMBOLS  ON)
target_link_libraries(XLControlNetModelWeight PUBLIC cuda_utils memory_utils XLUNetMidBlock2DCrossAttnWeight TextTimeEmbeddingBlockWeight XLCrossAttnDownBlock2dWeight XLCrossAttnUpBlock2dWeight XLDownBlock2DWeight XLUpBlock2dWeight ControlNetFinalConvWeight ControlNetConditioningEmbeddingWeight)

add_library(XLControlNetModel STATIC XLControlNetModel.cc)

set_property(TARGET XLControlNetModel PROPERTY POSITION_INDEPENDENT_CODE  ON)
set_property(TARGET XLControlNetModel PROPERTY CUDA_RESOLVE_DEVICE_SYMBOLS  ON)
target_link_libraries(XLControlNetModel PUBLIC conv2d residual TimeProjection XLControlNetModelWeight ControlNetConditioningEmbedding ControlNetFinalConv  XLUNetMidBlock2DCrossAttn TextTimeEmbeddingBlock XLCrossAttnDownBlock2d XLCrossAttnUpBlock2d XLDownBlock2D XLUpBlock2d cuda_utils logger memory_utils)


add_library(GLVControlNetModelWeight STATIC GLVControlNetModelWeight.cc)

set_property(TARGET GLVControlNetModelWeight PROPERTY POSITION_INDEPENDENT_CODE  ON)
set_property(TARGET GLVControlNetModelWeight PROPERTY CUDA_RESOLVE_DEVICE_SYMBOLS  ON)
target_link_libraries(GLVControlNetModelWeight PUBLIC cuda_utils memory_utils XLUNetMidBlock2DCrossAttnWeight TextTimeEmbeddingBlockWeight XLCrossAttnDownBlock2dWeight XLCrossAttnUpBlock2dWeight XLDownBlock2DWeight XLUpBlock2dWeight ControlNetFinalConvWeight ControlNetConditioningEmbeddingWeight)

add_library(GLVControlNetModel STATIC GLVControlNetModel.cc)

set_property(TARGET GLVControlNetModel PROPERTY POSITION_INDEPENDENT_CODE  ON)
set_property(TARGET GLVControlNetModel PROPERTY CUDA_RESOLVE_DEVICE_SYMBOLS  ON)
target_link_libraries(GLVControlNetModel PUBLIC conv2d residual TimeProjection GLVControlNetModelWeight ControlNetConditioningEmbedding ControlNetFinalConv  XLUNetMidBlock2DCrossAttn TextTimeEmbeddingBlock XLCrossAttnDownBlock2d XLCrossAttnUpBlock2d XLDownBlock2D XLUpBlock2d cuda_utils logger memory_utils)
